enum class Dir
{
    N = 1,
    E = 2,
    S = -1,
    W = -2,
};

namespace Direction
{
    // Auto-generated by "../script/codegen.py"
    // This is the direction matrix for the map.
    // It is used to decide which way to turn at a junction.
    // If the desired path is from node 3 to node 5,
    // then `dir_matrix[3][5]` will give the compass direction to head
    // based on the pre-calculated shortest path.
    int dir_matrix[20][20] = {{0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
                              {1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
                              {1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
                              {-1, 2, 2, 0, 2, 2, 2, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2},
                              {-2, 2, 2, -2, 0, 1, 2, 2, -2, -2, -2, -2, 2, -2, -2, -2, -2, -2, -2, 2},
                              {-1, -1, -1, -1, -1, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
                              {-2, -1, 2, -2, -2, -2, 0, 2, -2, -2, 2, 2, 2, -2, -2, -2, 2, 2, -2, 2},
                              {-2, -2, -1, -2, -2, -2, -2, 0, -2, 1, 1, 1, 1, 1, 1, 1, 1, 1, -2, 1},
                              {-1, -1, -1, -1, -1, -1, -1, -1, 0, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 2},
                              {-2, -2, 2, -2, -2, -2, -2, 2, -2, 0, 2, 2, 2, 1, 1, 1, 1, 1, -2, 2},
                              {-2, 2, 2, -2, -2, -2, 2, 2, -2, -2, 0, -1, 2, -2, -2, -2, 2, 2, -2, 2},
                              {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1},
                              {-1, -1, -1, -1, -1, -1, -1, -1, -2, -2, -2, -2, 0, -2, -2, 1, 1, 1, -2, 1},
                              {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, -2, 1, 1, 1, 1, 1},
                              {2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2},
                              {-2, -2, 2, -2, -2, -2, -2, 2, -2, -1, -1, -1, 2, -1, -1, 0, 2, 2, -2, 2},
                              {-2, 2, 2, -2, -2, -2, 2, 2, -2, -2, 2, 2, 2, -2, -2, -2, 0, -1, -2, 2},
                              {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1},
                              {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 2, 2, 2, 2, 0, 2},
                              {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -2, -2, -2, -2, -2, -2, 0}};
}